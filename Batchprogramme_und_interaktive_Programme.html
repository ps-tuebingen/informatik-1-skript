<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4&nbsp;Batchprogramme und interaktive Programme</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Informatik 1, WS 2023/<span class="mywbr"> &nbsp;</span>24 Universit&#228;t T&#252;bingen</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Programmieren_mit_Ausdr_cken.html" class="tocviewlink" data-pltdoc="x">Programmieren mit Ausdr&#252;cken</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Programmierer_entwerfen_Sprachen_.html" class="tocviewlink" data-pltdoc="x">Programmierer entwerfen Sprachen!</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Systematischer_Programmentwurf.html" class="tocviewlink" data-pltdoc="x">Systematischer Programmentwurf</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Batchprogramme und interaktive Programme</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="summentypen.html" class="tocviewlink" data-pltdoc="x">Datendefinition durch Alternativen:<span class="mywbr"> &nbsp;</span> Summentypen</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="produkttypen.html" class="tocviewlink" data-pltdoc="x">Datendefinition durch Zerlegung:<span class="mywbr"> &nbsp;</span> Produkttypen</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="adts.html" class="tocviewlink" data-pltdoc="x">Datendefinition durch Alternativen und Zerlegung:<span class="mywbr"> &nbsp;</span> Algebraische Datentypen</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="bsl-semantics.html" class="tocviewlink" data-pltdoc="x">Bedeutung von BSL</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Daten_beliebiger_Gr__e.html" class="tocviewlink" data-pltdoc="x">Daten beliebiger Gr&#246;&#223;e</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="patternmatching.html" class="tocviewlink" data-pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Quote_und_Unquote.html" class="tocviewlink" data-pltdoc="x">Quote und Unquote</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="lang-support.html" class="tocviewlink" data-pltdoc="x">Sprachunterst&#252;tzung f&#252;r Datendefinitionen und Signaturen</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="lang-support-adts.html" class="tocviewlink" data-pltdoc="x">Sprachunterst&#252;tzung f&#252;r Algebraische Datentypen</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="DRY__Abstraktion__berall_.html" class="tocviewlink" data-pltdoc="x">DRY:<span class="mywbr"> &nbsp;</span> Abstraktion &#252;berall!</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="Programmieren_mit_Higher-Order_Funktionen.html" class="tocviewlink" data-pltdoc="x">Programmieren mit Higher-<wbr></wbr>Order Funktionen</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="Bedeutung_von_ISL_.html" class="tocviewlink" data-pltdoc="x">Bedeutung von ISL+</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="Generative_Rekursion.html" class="tocviewlink" data-pltdoc="x">Generative Rekursion</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="Akkumulation_von_Wissen.html" class="tocviewlink" data-pltdoc="x">Akkumulation von Wissen</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>4&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Batchprogramme und interaktive Programme</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="#%28part._.Batchprogramme%29" class="tocviewlink" data-pltdoc="x">Batchprogramme</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="#%28part._.Interaktive_.Programme%29" class="tocviewlink" data-pltdoc="x">Interaktive Programme</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#%28part._.Batchprogramme%29" class="tocsubseclink" data-pltdoc="x">Batchprogramme</a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#%28part._.Interaktive_.Programme%29" class="tocsubseclink" data-pltdoc="x">Interaktive Programme</a></td></tr><tr><td><span class="tocsublinknumber">4.2.1<tt>&nbsp;</tt></span><a href="#%28part._universeteachpack%29" class="tocsubseclink" data-pltdoc="x">Das Universe Teachpack</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Systematischer_Programmentwurf.html" title="backward to &quot;3 Systematischer Programmentwurf&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Informatik 1, WS 2023/24 Universität Tübingen&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="summentypen.html" title="forward to &quot;5 Datendefinition durch Alternativen: Summentypen&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div><h3>4<tt>&nbsp;</tt><a name="(part._.Batchprogramme_und_interaktive_.Programme)"></a>Batchprogramme und interaktive Programme</h3><p>Ein Programm, wie wir es bisher kennen, besteht immer aus Ausdr&#252;cken, Funktionsdefinitionen und Variablendefinitionen.
Aus der Perspektive der Benutzung eines Programms k&#246;nnen wir jedoch mehrere Unterarten dieser Programme
unterscheiden. Zwei wichtige Unterarten sind <span style="font-style: italic">Batchprogramme</span> und <span style="font-style: italic">interaktive Programme</span>.</p><h4>4.1<tt>&nbsp;</tt><a name="(part._.Batchprogramme)"></a>Batchprogramme</h4><p><span style="font-style: italic">Batchprogramme</span> bestehen aus einer Hauptfunktion. Die Hauptfunktion nutzt Hilfsfunktionen, die wiederum weitere Hilfsfunktionen
benutzen k&#246;nnen. Ein Batchprogramm aufzurufen bedeutet, dass die Hauptfunktion mit der Eingabe des Programms
aufgerufen wird und nach Beendigung der Hauptfunktion mit einem Ergebnis zur&#252;ckkehrt. W&#228;hrend die Hauptfunktion ausgewertet wird,
gibt es keine Interaktion mit dem Benutzer mehr.</p><p><div class="SIntrapara">H&#228;ufig wird Batchprogrammen ihre Eingabe in Form von Kommandozeilenparametern oder Standardstr&#246;men &#252;bergeben.
Weitere Eingaben k&#246;nnen aus Dateien kommen, deren Name beispielsweise als Kommandozeilenparameter &#252;bergeben wurde.
Die Ausgabe wird h&#228;ufig &#252;ber den Standardausgabestrom (stdout) ausgegeben.
Ein gutes Beispiel f&#252;r Batchprogramme sind die Kommandozeilen-Tools der Unix Welt, wie zum Beispiel <span style="font-style: italic">ls</span>, <span style="font-style: italic">grep</span> oder
<span style="font-style: italic">find</span>. Auch DrRacket gibt es in einer Version als Batchprogramm, <span style="font-style: italic">raco</span>, siehe <a href="http://docs.racket-lang.org/raco/index.html"><span class="url">http://docs.racket-lang.org/raco/index.html</span></a>.
</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Recherchieren Sie, was Standardstr&#246;me (<span style="font-style: italic">standard streams</span>) wie <span style="font-style: italic">stdin</span> und <span style="font-style: italic">stdout</span> in Unix sind.</p></blockquote></blockquote></blockquote></div></p><p>Batchprogramme verhalten sich also in gewissem Sinne wie unsere Funktionen, die wir definieren:
Wenn man Ihnen eine Eingabe gibt, rechnen sie eine Zeit lang selbstst&#228;ndig und geben dann das Ergebnis zur&#252;ck.
Sie wissen bereits, dass Funktionen sehr flexibel miteinander verkn&#252;pft und kombiniert werden k&#246;nnen. So ist es daher auch
mit Batchprogrammen, die sehr h&#228;ufig in Skripten oder auf der Kommandozeile miteinander kombiniert werden.
M&#246;chte man beispielsweise in einer Unix Shell die Liste aller Dateien des aktuellen Verzeichnisses wissen, die
im M&#228;rz modifiziert wurden und diese dann nach ihrer Gr&#246;&#223;e sortieren, so k&#246;nnen wir das erreichen, indem wir
einfache Batchprogramme wie <span class="stt">ls</span>, <span class="stt">grep</span> und <span class="stt">sort</span> miteinander verkn&#252;pfen:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ ls -l | grep "Mar" | sort +4n</span></p></td></tr><tr><td><p><span class="stt">-rwxr-xr-x</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">193 Mar</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">7 19:50 sync.bat</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">317 Mar 30 12:53 10-modules.bak</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">348 Mar</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">8 12:30 arrow-big.png</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">550 Mar 30 13:02 10-modules.scrbl</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">3611 Mar</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">8 12:35 arrow.png</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">4083 Mar 27 15:16 marburg-utils.rkt</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">4267 Mar 27 15:15 marburg-utils.bak</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">7782 Mar 30 13:02 10-modules.html</span></p></td></tr><tr><td><p><span class="stt">-rw-r--r--</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">1 klaus</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Admin</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">14952 Mar</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">2 13:49 rocket-s.jpg</span></p></td></tr></table></p><p>Ein gutes Beispiel f&#252;r ein Batchprogramm in BSL ist die <span class="RktSym">letter</span> Funktion aus Abschnitt <a href="Systematischer_Programmentwurf.html#%28part._letterprogram%29" data-pltdoc="x">Funktionale Dekomposition</a>.
Wir rufen es im Interaktionsbereich mit der gew&#252;nschten Eingabe auf und erhalten dann die Ausgabe. Es ist m&#246;glich,
dieses Programm auch au&#223;erhalb von DrRacket als Batchprogramm zu verwenden. Allerdings muss in diesem Fall die
Eingabe anders &#252;bergeben werden, n&#228;mlich in Form von Kommandozeilenparametern. Wie dies aussehen kann,
zeigt das folgende Programm. Um auf die Kommandozeilenparameter zuzugreifen, sind
einige Sprachkonstrukte notwendig, die Sie bisher noch nicht kennen. Versuchen Sie daher nicht, die Details
des unten stehenden Programms zu verstehen; es soll lediglich illustrieren, dass man Racket-Programme ohne
DrRacket als Batchprogramme ausf&#252;hren kann.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">letter</span><span class="hspace">&nbsp;</span><span class="RktSym">fst</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktSym">signature-name</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">opening</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"\n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">body</span><span class="hspace">&nbsp;</span><span class="RktSym">fst</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"\n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">closing</span><span class="hspace">&nbsp;</span><span class="RktSym">signature-name</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">opening</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Sehr geehrte(r) Herr/Frau "</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktVal">","</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">body</span><span class="hspace">&nbsp;</span><span class="RktSym">fst</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Herr Gadafi aus Libyen ist gestorben.\n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Er hat Sie, "</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">fst</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">", in seinem Testament als Alleinerben eingesetzt.\n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Lieber "</span><span class="hspace">&nbsp;</span><span class="RktSym">fst</span><span class="hspace">&nbsp;</span><span class="RktVal">" "</span><span class="hspace">&nbsp;</span><span class="RktSym">lst</span><span class="hspace">&nbsp;</span><span class="RktVal">", gegen eine kleine Bearbeitungsgebuehr\n ueberweise ich das Vermoegen."</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">closing</span><span class="hspace">&nbsp;</span><span class="RktSym">signature-name</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Mit freundlichen Gruessen,\n"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym">signature-name</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">args</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">current-command-line-arguments</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vector-length</span><span class="hspace">&nbsp;</span><span class="RktSym">args</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">display</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">letter</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vector-ref</span><span class="hspace">&nbsp;</span><span class="RktSym">args</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vector-ref</span><span class="hspace">&nbsp;</span><span class="RktSym">args</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vector-ref</span><span class="hspace">&nbsp;</span><span class="RktSym">args</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Bitte genau drei Parameter uebergeben"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Falls dieses Programm in der Datei <span class="stt">letter.rkt</span> abgespeichert ist, so k&#246;nnen Sie dieses zum Beispiel in einer
Unix oder DOS Shell so aufrufen:</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket letter.rkt Tillmann Rendel Klaus</span></p></td></tr></table></div><div class="SIntrapara">und erhalten dann die folgende Ausgabe:</div></p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">Sehr geehrte(r) Herr/Frau Rendel,</span></p></td></tr><tr><td><p><span class="stt">Herr Gadafi aus Libyen ist gestorben.</span></p></td></tr><tr><td><p><span class="stt">Er hat Sie, Tillmann, in seinem Testament als Alleinerben eingesetzt.</span></p></td></tr><tr><td><p><span class="stt">Lieber Tillmann Rendel, gegen eine kleine Bearbeitungsgebuehr</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">ueberweise ich das Vermoegen.</span></p></td></tr><tr><td><p><span class="stt">Mit freundlichen Gruessen,</span></p></td></tr><tr><td><p><span class="stt">Klaus Ostermann</span></p></td></tr></table></p><p>Dieses Batchprogramm k&#246;nnen Sie nun auch mit anderen Kommandozeilenprogrammen verkn&#252;pfen; beispielsweise
k&#246;nnen Sie es mit dem <span style="font-style: italic">wc</span> Programm verkn&#252;pfen um die Anzahl der W&#246;rter in dem generierten Text zu bestimmen:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ racket letter.rkt Tillmann Rendel Klaus | wc -w</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">35</span></p></td></tr></table></p><p>Das Programm <span class="stt">racket</span>, das in diesem Befehl aufgerufen wird, ist die Kommandozeilenversion von DrRacket.
Sie k&#246;nnen Racket Programme aber nat&#252;rlich auch ganz ohne die Racket Umgebung ausf&#252;hren. Beispielsweise
k&#246;nnen Sie mit dem Men&#252;eintrag Racket -&gt; Programmdatei eine ausf&#252;hrbare Datei erzeugen, die unabh&#228;ngig von DrRacket
auf jedem Rechner mit dem passenden Betriebssystem ausgef&#252;hrt werden kann.</p><p>Wenn Sie in Ihren BSL Programmen Dateien lesen oder schreiben m&#246;chten, k&#246;nnen Sie hierzu das Teachpack <span class="RktSym">2htdp/batch-io</span>
verwenden.</p><p>Zusammenfassend l&#228;sst sich sagen, dass die St&#228;rke von Batchprogrammen ist, dass sie sich leicht und auf vielf&#228;ltige
Weise mit anderen Batchprogrammen kombinieren lassen, entweder auf der Kommandozeile oder auch automatisiert
innerhalb von Batch-Files oder Shell-Skripten. Batchprogramme sind definitionsgem&#228;&#223; nicht
f&#252;r Interaktionen mit dem Benutzer geeignet. Sie sind jedoch sehr h&#228;ufig Bausteine f&#252;r interaktive Programme.</p><h4>4.2<tt>&nbsp;</tt><a name="(part._.Interaktive_.Programme)"></a>Interaktive Programme</h4><p>Interaktive Programme bestehen aus mehreren Hauptfunktionen sowie einem Ausdruck, der den Computer
informiert, welche dieser Funktionen welche Art von Eingaben verarbeitet und welche der Funktionen
Ausgaben produziert. Jede dieser Hauptfunktionen kann nat&#252;rlich wieder Hilfsfunktionen verwenden.
Wir werden zur Konstruktion interaktiver Programme das Universe Teachpack verwenden.</p><h5>4.2.1<tt>&nbsp;</tt><a name="(part._universeteachpack)"></a>Das Universe Teachpack</h5><p>Das "universe" Teachpack unterst&#252;tzt die Konstruktion interaktiver Programme: Programme, die auf Zeitsignale,
Mausklicks, Tastatureingaben oder Netzwerkverkehr reagieren und grafische Ausgaben erzeugen.
Wir werden die Funktionsweise dieses Teachpacks anhand des folgenden Beispiels erkl&#228;ren. Bitte probieren
Sie vor dem weiterlesen aus, was dieses Programm macht.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">WorldState is a number</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">interp. the countdown when the bomb explodes</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">WorldState -&gt; WorldState</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">reduces countdown by one whenever a clock tick occurs</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-tick-event</span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">41</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-tick-event</span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">WorldState Number Number MouseEvent -&gt; WorldState</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">decreases countdown by 100 (but not below 0) when mouse button is pressed</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-mouse-event</span><span class="hspace">&nbsp;</span><span class="RktVal">300</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="hspace">&nbsp;</span><span class="RktVal">27</span><span class="hspace">&nbsp;</span><span class="RktVal">"button-down"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">200</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-mouse-event</span><span class="hspace">&nbsp;</span><span class="RktVal">300</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="hspace">&nbsp;</span><span class="RktVal">27</span><span class="hspace">&nbsp;</span><span class="RktVal">"button-up"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">300</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-mouse-event</span><span class="hspace">&nbsp;</span><span class="RktVal">50</span><span class="hspace">&nbsp;</span><span class="RktVal">12</span><span class="hspace">&nbsp;</span><span class="RktVal">27</span><span class="hspace">&nbsp;</span><span class="RktVal">"button-down"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-mouse-event</span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="hspace">&nbsp;</span><span class="RktSym">mouse-x</span><span class="hspace">&nbsp;</span><span class="RktSym">mouse-y</span><span class="hspace">&nbsp;</span><span class="RktSym">mouse-event</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string~3d~3f%29%29" class="RktValLink" data-pltdoc="x">string=?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">mouse-event</span><span class="hspace">&nbsp;</span><span class="RktVal">"button-down"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._max%29%29" class="RktValLink" data-pltdoc="x">max</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">world</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">WorldState -&gt; Image</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">renders the current countdown t as an image</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">render</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._%28%28lib._lang%2Fhtdp-beginner..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._image~3f%29%29" class="RktValLink" data-pltdoc="x">image?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">render</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._%28%28lib._lang%2Fhtdp-beginner..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">render</span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._above%29%29" class="RktValLink" data-pltdoc="x">above</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29" class="RktValLink" data-pltdoc="x">text</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Countdown for the bomb: "</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._number-~3estring%29%29" class="RktValLink" data-pltdoc="x">number-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">30</span><span class="hspace">&nbsp;</span><span class="RktVal">"red"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29" class="RktValLink" data-pltdoc="x">text</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Click to disarm!"</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="hspace">&nbsp;</span><span class="RktVal">"red"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpimage.html#%28def._%28%28lib._2htdp%2Fimage..rkt%29._text%29%29" class="RktValLink" data-pltdoc="x">text</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Boooom!!"</span><span class="hspace">&nbsp;</span><span class="RktVal">60</span><span class="hspace">&nbsp;</span><span class="RktVal">"red"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">WorldState -&gt; Boolean</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">the program is over when the countdown is &lt;= 0</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">end-of-the-world</span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._%28%28lib._lang%2Fhtdp-beginner..rkt%29._false%29%29" class="RktValLink" data-pltdoc="x">false</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._check-expect%29%29" class="RktStxLink" data-pltdoc="x">check-expect</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">end-of-the-world</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-1</span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._%28%28lib._lang%2Fhtdp-beginner..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28form._%28%28lib._lang%2Fhtdp-beginner..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">end-of-the-world</span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/htdp-langs/beginner.html#%28def._htdp-beginner._%28%28lib._lang%2Fhtdp-beginner..rkt%29._~3c%29%29" class="RktValLink" data-pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">world</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">install all event handlers; initialize world state to 500</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span><span class="hspace">&nbsp;</span><span class="RktVal">500</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29" class="RktStxLink" data-pltdoc="x">on-tick</a></span><span class="hspace">&nbsp;</span><span class="RktSym">on-tick-event</span><span class="hspace">&nbsp;</span><span class="RktVal">0.1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-mouse%29%29" class="RktStxLink" data-pltdoc="x">on-mouse</a></span><span class="hspace">&nbsp;</span><span class="RktSym">on-mouse-event</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span><span class="hspace">&nbsp;</span><span class="RktSym">render</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29" class="RktStxLink" data-pltdoc="x">stop-when</a></span><span class="hspace">&nbsp;</span><span class="RktSym">end-of-the-world</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p><div class="SIntrapara">Ein zentrales Konzept bei interaktiven Programmen ist das des <span style="font-style: italic">WorldState</span>s.
Eine interaktive Anwendung befindet sich typischerweise in einem bestimmten <span style="font-style: italic">Zustand</span>,
den wir WorldState nennen.
</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Falls Sie Pacman nicht kennen, suchen Sie bitte unverz&#252;glich eine Online-Version
von Pacman im Internet und spielen eine Runde!</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">Der Zustand bei einem Pacman-Spiel umfasst beispielsweise die gegenw&#228;rtige Position
aller Spielfiguren und den aktuellen Punktestand. Im Programm oben besteht der aktuelle
Zustand lediglich aus einer Zahl, die den aktuellen Countdown zur Bombenexplosion enth&#228;lt.</div></p><p>Der Zustand eines interaktiven Programms &#228;ndert sich, wenn bestimmte <span style="font-style: italic">Ereignisse</span> eintreten.
Ereignisse k&#246;nnen zum Beispiel das Dr&#252;cken von Tasten auf der Tastatur, Aktionen mit der Maus oder
der Ablauf bestimmter Zeitintervalle (<span style="font-style: italic">Timer</span>) sein. Auf Ereignisse wird in Form von <span style="font-style: italic">Event Handlern</span>
reagiert. Ein Event Handler ist eine Funktion, die den gegenw&#228;rtigen WorldState sowie weitere
Informationen &#252;ber das eingetretene Ereignis als Eingabe erh&#228;lt und einen neuen WorldState als
Ausgabe produziert.</p><p>Im Beispiel oben werden zwei Event Handler definiert, <span class="RktSym">on-mouse-event</span> f&#252;r Mausevents
und <span class="RktSym">on-tick-event</span> f&#252;r Timer-Ereignisse. Das Intervall zwischen zwei Timer-Ereignissen
werden wir sp&#228;ter auf 0.1 Sekunden festlegen. In der Anwendung oben haben wir uns daf&#252;r entschieden,
jedesmal beim Eintreten eines Timer-Events den aktuellen Countdown um eins zu reduzieren.</p><p>Die <span class="RktVal">"on-mouse-event"</span> Funktion bekommt als Eingabe au&#223;er dem aktuellen WorldState noch die
Position der Maus sowie die genaue Art des Mausereignisses als Eingabe. In unserem Beispiel wird
der Countdown bei jedem Klick auf die Maus um 100 erniedrigt.</p><p>Die <span class="RktSym">render</span> Funktion produziert aus dem aktuellen WorldState ein Bild, welches den
aktuellen Zustand des Programms grafisch darstellt. Diese Funktion wird jedesmal aufgerufen, wenn
sich der aktuelle WorldState ge&#228;ndert hat.</p><p>Die letzte Funktion, <span class="RktSym">end-of-the-world</span>, dient dazu, zu &#252;berpr&#252;fen, ob die Anwendung beendet
werden soll. Hierzu pr&#252;ft sie den WorldState und produziert als Ergebnis einen Wahrheitswert.
In unserem Beispiel m&#246;chten wir die Anwendung beenden, nachdem die Bombe explodiert ist.</p><p>Der letzte <span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> Ausdruck dient dazu, den WorldState zu initialisieren und alle Event Handler
zu installieren. Der <span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> Operator ist eine Sonderform, also keine normale BSL Funktion.
Das erste Argument von <span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> ist der initiale WorldState. Da wir uns daf&#252;r entschieden haben,
dass in dieser Anwendung der WorldState eine Zahl ist, die den aktuellen Countdown repr&#228;sentiert,
w&#228;hlen wir einen initialen Countdown, <span class="RktVal">500</span>.</p><p>Die Unterausdr&#252;cke wie <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29" class="RktStxLink" data-pltdoc="x">on-tick</a></span><span class="stt"> </span><span class="RktSym">on-tick-event</span><span class="RktPn">)</span> sind keine Funktionsaufrufe sondern spezielle
Klauseln des <span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> Operators, in denen man die Event-Handler Funktionen sowie die Funktionen
zum Zeichnen (<span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span>) und Beenden (<span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._stop-when%29%29" class="RktStxLink" data-pltdoc="x">stop-when</a></span>) des Programms angibt. Selbstverst&#228;ndlich
h&#228;tten wir den Event-Handler Funktionen auch andere Namen geben k&#246;nnen &ndash; der <span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> ist
die Stelle, wo definiert wird, welcher Ereignistyp mit welcher Event-Handler Funktion verkn&#252;pft wird.</p><p>Einige dieser Klauseln erwarten au&#223;er dem Namen der Event-Handler Funktion noch weitere Argumente.
So sagt beispielsweise die Zahl in der <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._on-tick%29%29" class="RktStxLink" data-pltdoc="x">on-tick</a></span><span class="stt"> </span><span class="RktSym">on-tick-event</span><span class="stt"> </span><span class="RktVal">0.1</span><span class="RktPn">)</span>, dass alle 0,1 Sekunden
ein Timer-Event ausgel&#246;st werden soll. Man kann diese Angabe auch weglassen; dann wird als
Standardwert 1/28 Sekunde angenommen. Es gibt noch eine Reihe weiterer Klauseln und Varianten der
oben stehenden Klauseln; f&#252;r weitere Informationen dazu siehe die Dokumentation des universe Teachpacks.
Bis auf die <span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._to-draw%29%29" class="RktStxLink" data-pltdoc="x">to-draw</a></span> Klauseln sind alle diese Klauseln optional; ist f&#252;r einen Eventtyp
kein Event Handler installiert, werden diese Events ignoriert.</p><p>Wird ein interaktives Programm (im folgenden auch <span style="font-style: italic">World Programm</span>) beendet, so gibt der
<span class="RktSym"><a href="http://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29" class="RktStxLink" data-pltdoc="x">big-bang</a></span> Ausdruck den letzten WorldState zur&#252;ck.</p><p>Nehmen wir beispielsweise an, dass in folgender Reihenfolge folgende Events eintreten:</p><ol><li><p>ein Timerevent</p></li><li><p>ein Timerevent</p></li><li><p>ein Mausevent (die Maus wurde an die Position (123,456) bewegt)</p></li><li><p>ein Mausevent (eine Maustaste wurde an der Stelle (123,456) gedr&#252;ckt)</p></li></ol><p>Nehmen wir an, der Zustand vor Eintreten dieser Events ist <span class="RktVal">500</span>.
Nach Eintreten des jeweiligen Ereignisses ist der aktuelle Zustand:</p><ol><li><p><span class="RktVal">499</span>, also <span class="RktPn">(</span><span class="RktSym">on-tick-event</span><span class="stt"> </span><span class="RktVal">500</span><span class="RktPn">)</span></p></li><li><p><span class="RktVal">498</span>, also <span class="RktPn">(</span><span class="RktSym">on-tick-event</span><span class="stt"> </span><span class="RktVal">499</span><span class="RktPn">)</span></p></li><li><p><span class="RktVal">498</span>, also <span class="RktPn">(</span><span class="RktSym">on-mouse-event</span><span class="stt"> </span><span class="RktVal">498</span><span class="stt"> </span><span class="RktVal">123</span><span class="stt"> </span><span class="RktVal">456</span><span class="stt"> </span><span class="RktVal">"move"</span><span class="RktPn">)</span></p></li><li><p><span class="RktVal">398</span>, also <span class="RktPn">(</span><span class="RktSym">on-mouse-event</span><span class="stt"> </span><span class="RktVal">498</span><span class="stt"> </span><span class="RktVal">123</span><span class="stt"> </span><span class="RktVal">456</span><span class="stt"> </span><span class="RktVal">"button-down"</span><span class="RktPn">)</span></p></li></ol><p>Da Event Handler nur Funktionen sind, kann man das letzte Resultat auch durch die <span style="font-style: italic">Funktionskomposition</span> der Event Handler berechnen:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">on-mouse-event</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-mouse-event</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-tick-event</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-tick-event</span><span class="hspace">&nbsp;</span><span class="RktVal">500</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">123</span><span class="hspace">&nbsp;</span><span class="RktVal">456</span><span class="hspace">&nbsp;</span><span class="RktVal">"move"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">123</span><span class="hspace">&nbsp;</span><span class="RktVal">456</span><span class="hspace">&nbsp;</span><span class="RktVal">"button-down"</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Die Reihenfolge der Ereignisse bestimmt also die Reihenfolge, in der die Event Handler Funktionen hintereinandergeschaltet werden.
M&#246;chte man, zum Beispiel in Tests, das Eintreten einer bestimmten Sequenz von Ereignissen simulieren, so kann man dies
also einfach durch Komposition der entsprechenden Event Handler tun. Dies ist wichtig, denn viele interessante Situationen (die man testen m&#246;chte)
ergeben sich erst in der Komposition verschiedener Ereignisse.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Systematischer_Programmentwurf.html" title="backward to &quot;3 Systematischer Programmentwurf&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Informatik 1, WS 2023/24 Universität Tübingen&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="summentypen.html" title="forward to &quot;5 Datendefinition durch Alternativen: Summentypen&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>